(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{5121:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(2115);let r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:m,...h}=e;return(0,s.createElement)("svg",{ref:t,...n,width:l,height:l,stroke:a,strokeWidth:o?24*Number(i)/Number(l):i,className:r("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let a=(0,s.forwardRef)((a,n)=>{let{className:o,...c}=a;return(0,s.createElement)(i,{ref:n,iconNode:t,className:r("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return a.displayName=l(e),a}},5234:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(5155),r=a(2115),l=a(2619),n=a.n(l),i=a(5121);let o=(0,i.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),c=(0,i.A)("file-plus",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]),d=(0,i.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var m=a(7621);function h(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[i,h]=(0,r.useState)(null),[x,p]=(0,r.useState)(1),[u]=(0,r.useState)(10),[g,f]=(0,r.useState)(0),[j,N]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=new AbortController;return async function(){try{l(!0);let a=await fetch("".concat(m.H,"/api/blog/?page=").concat(x,"&page_size=").concat(u),{signal:e.signal});if(!a.ok)throw Error("Failed: ".concat(a.status));let s=await a.json();t(s);let r=a.headers.get("X-Total-Count");f(r?parseInt(r,10):s.length)}catch(e){var a;e instanceof Error&&"AbortError"!==e.name&&h(null!=(a=e.message)?a:"Error")}finally{l(!1)}}(),()=>e.abort()},[x,u]);let y=(0,r.useMemo)(()=>{let t=j.trim().toLowerCase();return t?e.filter(e=>e.title.toLowerCase().includes(t)||e.summary.toLowerCase().includes(t)):e},[e,j]);return i?(0,s.jsxs)("section",{className:"space-y-8",children:[(0,s.jsx)("h1",{className:"font-display text-5xl md:text-6xl lg:text-7xl font-semibold text-forest",children:"Blog"}),(0,s.jsx)("p",{className:"text-terracotta",children:i})]}):(0,s.jsxs)("section",{className:"space-y-12 md:space-y-20",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-8",children:[(0,s.jsx)("h1",{className:"font-display text-5xl md:text-6xl lg:text-7xl font-semibold text-forest animate-fade-up",children:"Blog"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o,{strokeWidth:1.5,size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-forest/50"}),(0,s.jsx)("input",{type:"search",placeholder:"Search posts...",value:j,onChange:e=>N(e.target.value),className:"input-botanical pl-10"})]}),(0,s.jsxs)(n(),{href:"/blog/new",className:"btn-secondary inline-flex items-center gap-2 h-12",children:[(0,s.jsx)(c,{strokeWidth:1.5,size:18})," New Post"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,s.jsx)("a",{href:"".concat(m.H,"/api/blog/backup"),target:"_blank",rel:"noreferrer",className:"nav-link",children:"Export JSON"}),(0,s.jsxs)("label",{className:"nav-link cursor-pointer",children:["Import JSON",(0,s.jsx)("input",{type:"file",accept:"application/json",className:"hidden",onChange:async e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a)try{let e=await a.text(),t=JSON.parse(e);await fetch("".concat(m.H,"/api/blog/restore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),p(1)}catch(e){}}})]})]}),a?(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:Array.from({length:6}).map((e,t)=>(0,s.jsxs)("div",{className:"card animate-pulse",children:[(0,s.jsx)("div",{className:"h-5 w-3/4 bg-soft-clay rounded"}),(0,s.jsx)("div",{className:"mt-2 h-3 w-1/3 bg-soft-clay rounded"}),(0,s.jsx)("div",{className:"mt-4 h-20 w-full bg-soft-clay rounded"})]},t))}):(0,s.jsxs)(s.Fragment,{children:[0===y.length?(0,s.jsx)("p",{className:"text-forest/70",children:"No posts found."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"vine-divider","aria-hidden":"true"}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-12 md:gap-16",children:y.map((e,t)=>(0,s.jsx)("article",{className:"card group ".concat(t%3==1?"md:translate-y-12":""),children:(0,s.jsxs)(n(),{href:"/blog/".concat(e.slug),className:"block group/link",onMouseEnter:()=>{let t=new AbortController;fetch("".concat(m.H,"/api/blog/").concat(e.slug),{signal:t.signal}).catch(()=>{}),setTimeout(()=>t.abort(),6e3)},children:[(0,s.jsx)("h2",{className:"font-display text-xl font-semibold text-forest group-hover:text-terracotta transition-colors duration-300",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-forest/60 mt-1",children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsx)("p",{className:"text-forest/80 mt-3 line-clamp-3",children:e.summary}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 mt-4 text-sage font-medium text-sm group-hover/link:gap-3 transition-all duration-500",children:["Read more ",(0,s.jsx)(d,{strokeWidth:1.5,size:16,className:"transition-transform duration-500 group-hover/link:translate-x-1"})]})]})},e.slug))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-16 text-sm text-forest/70",children:[(0,s.jsxs)("p",{children:["Page ",x," \xb7 ",g," total"]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{className:"nav-link h-12 min-w-[44px] px-4 disabled:opacity-50",onClick:()=>p(e=>Math.max(1,e-1)),disabled:x<=1||a,children:"Previous"}),(0,s.jsx)("button",{className:"nav-link h-12 min-w-[44px] px-4 disabled:opacity-50",onClick:()=>p(e=>e+1),disabled:a||x*u>=g,children:"Next"})]})]})]})]})}},7476:(e,t,a)=>{Promise.resolve().then(a.bind(a,5234))},7621:(e,t,a)=>{"use strict";a.d(t,{H:()=>s});let s="http://localhost:8000"}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=7476)),_N_E=e.O()}]);